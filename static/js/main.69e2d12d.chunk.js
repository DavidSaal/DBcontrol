(this.webpackJsonpDBcontrol=this.webpackJsonpDBcontrol||[]).push([[0],{30:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(15),r=a.n(n),l=a(17),o=a(5),d=a(6),i=a(2),j=a.n(i),u=a(7),b=a(3),h=a(0),m=function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"Customer name"}),Object(h.jsx)("th",{scope:"col",children:"Partner name"}),Object(h.jsx)("th",{scope:"col",children:"Type of work"}),Object(h.jsx)("th",{scope:"col",children:"N\xb0 MPR file"}),Object(h.jsx)("th",{scope:"col"})]})},p=function(e){return Object(h.jsx)("div",{className:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog  modal-xl modal-dialog-centered",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title fs-4",id:"exampleModalLabel",children:"Edit Row"}),Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{className:"card p-3",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsx)(m,{})}),Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:"1"}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"cName",className:"w-100",value:e.rowToUpdate.cName,onChange:e.rowToUpdateFunc})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"pName",className:"w-100",value:e.rowToUpdate.pName,onChange:e.rowToUpdateFunc})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"type",className:"w-100",value:e.rowToUpdate.type,onChange:e.rowToUpdateFunc})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"mpr",className:"w-100",value:e.rowToUpdate.mpr,onChange:e.rowToUpdateFunc})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-6 p-0 px-2","data-bs-dismiss":"modal",onClick:e.updatedRow,children:"Update"})})]})})]})})]})})})},x=function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:Object(h.jsx)("h4",{className:"fs-5 mb-1",children:"Filter"})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"cName",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"pName",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"type",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"mpr",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})})]})},O=a.p+"static/media/logo.3b0495ec.png",w=function(e){return Object(h.jsx)("div",{className:"text-center my-5",children:Object(h.jsxs)("div",{className:"card shadow my-2",children:[Object(h.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(h.jsx)("h1",{className:"display-3 mt-3",children:"Data List"}),Object(h.jsx)("img",{src:O,alt:"Logo",className:"",Style:"width:100px; height:90px"})]}),Object(h.jsx)("p",{className:"display-6 fs-6",children:"By David Saal"})]})})},f=a(16),N=function(e){var t=!Object.values(e.newRow).every((function(e){return""===e}));return console.log(t),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:Object(h.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-6 p-0 px-1",onClick:t?e.addRow:e.setEmptyMessage(!0),children:"Add"})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"cName",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"pName",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"type",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"text",name:"mpr",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(h.jsx)("td",{children:Object(h.jsx)(f.CSVLink,{data:e.rows,children:Object(h.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-6 p-0 px-1 ms-4",children:"Csv"})})})]})},y=a(8),v=a.n(y);a(30);var g=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!0),r=Object(b.a)(n,2),i=r[0],O=r[1],f=Object(s.useState)({cName:"",pName:"",type:"",mpr:""}),y=Object(b.a)(f,2),g=y[0],C=y[1],k=Object(s.useState)({}),R=Object(b.a)(k,2),T=R[0],S=R[1],E=Object(s.useState)(!1),U=Object(b.a)(E,2),F=U[0],V=U[1],L=Object(s.useState)({name:"",value:""}),M=Object(b.a)(L,2),_=M[0],D=M[1],J=Object(s.useState)(!1),B=Object(b.a)(J,2),P=B[0],z=B[1],A=Object(s.useRef)(null),I=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dbcontrol-server.herokuapp.com");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){I().then((function(e){O(!1),c(e)}))}),[]),Object(s.useEffect)((function(){var e=A.current;e&&e.click(),V(!1)}),[F]);var q=function(e){var t=e.target,a=t.name,s=t.value;S(Object(d.a)(Object(d.a)({},T),{},Object(o.a)({},a,s)))},G=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dbcontrol-server.herokuapp.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newRow:g})});case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,200===t.status?c([].concat(Object(l.a)(a),[s])):404===t.status&&alert("Error saving to database.");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dbcontrol-server.herokuapp.com",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rowToUpdate:T})});case 2:200===(t=e.sent).status?(s=a.findIndex((function(e){return e._id===T._id})),a[s]=T):404===t.status&&alert("Error saving to database.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dbcontrol-server.herokuapp.com",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.target.id})});case 2:200===(s=e.sent).status?c(a.filter((function(e){return e._id!==t.target.id}))):405===s.status&&alert("Error deleting.");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container mb-4",children:[Object(h.jsx)(w,{}),Object(h.jsxs)("div",{className:"card p-3",children:[Object(h.jsxs)("table",{className:"table",children:[Object(h.jsxs)("thead",{children:[Object(h.jsx)(x,{handleFilterRowValues:function(e){var t=e.target,a=t.name,s=t.value;D({name:a,value:s})}}),Object(h.jsx)(m,{})]}),Object(h.jsx)("tbody",{children:i?Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{variant:"rect",className:"w-100 rounded-0 my-2",count:a[a.length-1]?1:3})}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{variant:"rect",className:"w-100 rounded-0 my-2",count:a[a.length-1]?1:3})}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{variant:"rect",className:"w-100 rounded-0 my-2",count:a[a.length-1]?1:3})}),Object(h.jsx)("td",{children:Object(h.jsx)(v.a,{rect:!0,className:"w-100 rounded-0 my-2",count:a[a.length-1]?1:3})})]}):a.length>0?a.filter((function(e){return _.name?e[_.name].toLowerCase().includes(_.value.toLowerCase()):e})).map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:t+1}),Object(h.jsx)("td",{children:e.cName}),Object(h.jsx)("td",{children:e.pName}),Object(h.jsx)("td",{children:e.type}),Object(h.jsx)("td",{children:e.mpr}),Object(h.jsxs)("td",{children:[Object(h.jsx)(p,{rowToUpdate:T,rowToUpdateFunc:q,updatedRow:H}),Object(h.jsx)("button",{type:"button",className:"btn zoom","aria-label":"Edit",onClick:function(){return S(e),V(!0)},children:"\u270e"}),Object(h.jsx)("button",{type:"button",className:"d-none",ref:A,id:e._id,"data-bs-toggle":"modal","data-bs-target":"#exampleModal"}),Object(h.jsx)("button",{type:"button",className:"btn-close fs-8 zoom","aria-label":"Close",id:e._id,onClick:K})]})]},e._id)})):Object(h.jsx)("div",{className:"justify-content-center d-flex text-center",children:Object(h.jsx)("h4",{className:"fst-italic text-center",children:"(Empty List)"})})}),Object(h.jsx)("thead",{children:Object(h.jsx)(N,{handleNewRowValues:function(e){z(!1);var t=e.target,a=t.name,s=t.value;C(Object(d.a)(Object(d.a)({},g),{},Object(o.a)({},a,s)))},newRow:g,setEmptyMessage:z,addRow:G,rows:a})})]}),P&&Object(h.jsx)("p",{className:"display-6 text-danger text-center my-0",children:"At least one field must be filled out."})]})]})};a(33);r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.69e2d12d.chunk.js.map