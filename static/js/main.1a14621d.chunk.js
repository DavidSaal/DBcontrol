(this.webpackJsonpDBcontrol=this.webpackJsonpDBcontrol||[]).push([[0],{51:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c(17),n=c.n(a),r=c(19),d=c(7),j=c(8),l=c(5),o=c.n(l),i=c(9),b=c(4),u=c(0),h=function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"#"}),Object(u.jsx)("th",{scope:"col",children:"Customer name"}),Object(u.jsx)("th",{scope:"col",children:"Partner name"}),Object(u.jsx)("th",{scope:"col",children:"Type of work"}),Object(u.jsx)("th",{scope:"col",children:"N\xb0 MPR file"}),Object(u.jsx)("th",{scope:"col"})]})},x=function(e){return Object(u.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog  modal-xl modal-dialog-centered",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title fs-4",id:"exampleModalLabel",children:"Edit Row"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsx)(h,{})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:"1"}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"cName",className:"w-100",value:e.rowToUpdate.cName,onChange:e.rowToUpdateFunc})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"pName",className:"w-100",value:e.rowToUpdate.pName,onChange:e.rowToUpdateFunc})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"type",className:"w-100",value:e.rowToUpdate.type,onChange:e.rowToUpdateFunc})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"mpr",className:"w-100",value:e.rowToUpdate.mpr,onChange:e.rowToUpdateFunc})}),Object(u.jsx)("td",{children:Object(u.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-6 p-0 px-2","data-bs-dismiss":"modal",onClick:e.updatedRow,children:"Update"})})]})})]})})]})})})},O=function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:Object(u.jsx)("h4",{className:"fs-5 mb-1",children:"Filter"})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"cName",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"pName",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"type",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"mpr",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})})]})},p=c.p+"static/media/logo.3b0495ec.png",m=function(){return Object(u.jsx)("div",{className:"text-center my-5",children:Object(u.jsxs)("div",{className:"card shadow my-2",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(u.jsx)("h1",{className:"display-3 mt-3",children:"Data List"}),Object(u.jsx)("img",{src:p,alt:"Logo",style:{width:"100px",height:"90px"}})]}),Object(u.jsx)("p",{className:"display-6 fs-6",children:"By David Saal"})]})})},w=c(18),f=function(e){var t=!Object.values(e.newRow).every((function(e){return""===e}));return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:Object(u.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-6 p-0 px-1",onClick:t?e.addRow:function(){return e.setEmptyMessage(!0)},children:"Add"})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"cName",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"pName",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"type",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",name:"mpr",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(u.jsx)("td",{children:Object(u.jsx)(w.CSVLink,{data:e.rows,children:Object(u.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-6 p-0 px-1 ms-4",children:"Csv"})})})]})},N=c(10),y=c.n(N),v=function(){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:Object(u.jsx)(y.a,{type:"Oval",color:"#00BFFF",height:30,width:30})}),Object(u.jsx)("td",{children:Object(u.jsx)(y.a,{type:"Oval",color:"#00BFFF",height:30,width:30})}),Object(u.jsx)("td",{children:Object(u.jsx)(y.a,{type:"Oval",color:"#00BFFF",height:30,width:30})}),Object(u.jsx)("td",{children:Object(u.jsx)(y.a,{type:"Oval",color:"#00BFFF",height:30,width:30})})]})},g=c(3),C=c.n(g),F=function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e.index}),Object(u.jsx)("td",{children:Object(u.jsx)(C.a,{className:"w-75 rounded-0"})}),Object(u.jsx)("td",{children:Object(u.jsx)(C.a,{className:"w-75 rounded-0"})}),Object(u.jsx)("td",{children:Object(u.jsx)(C.a,{className:"w-75 rounded-0"})}),Object(u.jsx)("td",{children:Object(u.jsx)(C.a,{className:"w-75 rounded-0"})})]})},k=function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{}),Object(u.jsx)("td",{children:Object(u.jsx)(C.a,{className:"w-75 rounded-0 my-2",count:3})}),Object(u.jsx)("td",{children:Object(u.jsx)(C.a,{className:"w-75 rounded-0 my-2",count:3})}),Object(u.jsx)("td",{children:Object(u.jsx)(C.a,{className:"w-75 rounded-0 my-2",count:3})}),Object(u.jsx)("td",{children:Object(u.jsx)(C.a,{className:"w-75 rounded-0 my-2",count:3})})]})};c(51);var R=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(!0),l=Object(b.a)(n,2),p=l[0],w=l[1],N=Object(s.useState)(!1),y=Object(b.a)(N,2),g=y[0],C=y[1],R=Object(s.useState)(0),T=Object(b.a)(R,2),S=T[0],E=T[1],U=Object(s.useState)({cName:"",pName:"",type:"",mpr:""}),V=Object(b.a)(U,2),L=V[0],B=V[1],_=Object(s.useState)({}),M=Object(b.a)(_,2),D=M[0],J=M[1],P=Object(s.useState)(!1),I=Object(b.a)(P,2),z=I[0],A=I[1],q=Object(s.useState)({name:"",value:""}),G=Object(b.a)(q,2),H=G[0],K=G[1],Q=Object(s.useState)(!1),W=Object(b.a)(Q,2),X=W[0],Y=W[1],Z=Object(s.useRef)(null),$=function(){var e=Object(i.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dbcontrol-server.herokuapp.com");case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){$().then((function(e){w(!1),a(e)}))}),[]),Object(s.useEffect)((function(){var e=Z.current;e&&e.click(),A(!1)}),[z]);var ee=function(e){var t=e.target,c=t.name,s=t.value;J(Object(j.a)(Object(j.a)({},D),{},Object(d.a)({},c,s)))},te=function(){var e=Object(i.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,fetch("https://dbcontrol-server.herokuapp.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newRow:L})});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,200===t.status?a([].concat(Object(r.a)(c),[s])):404===t.status&&alert("Error saving to database."),C(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(i.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(D._id),e.next=3,fetch("https://dbcontrol-server.herokuapp.com",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rowToUpdate:D})});case 3:200===(t=e.sent).status?(s=c.findIndex((function(e){return e._id===D._id})),c[s]=D):404===t.status&&alert("Error saving to database."),E(0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(i.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(t.target.id),e.next=3,fetch("https://dbcontrol-server.herokuapp.com",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.target.id})});case 3:200===(s=e.sent).status?a(c.filter((function(e){return e._id!==t.target.id}))):405===s.status&&alert("Error deleting.");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"container mb-4",children:[Object(u.jsx)(m,{}),Object(u.jsxs)("div",{className:"card p-3 pb-0",children:[Object(u.jsxs)("table",{className:"table",children:[Object(u.jsxs)("thead",{children:[Object(u.jsx)(O,{handleFilterRowValues:function(e){var t=e.target,c=t.name,s=t.value;K({name:c,value:s})}}),Object(u.jsx)(h,{})]}),Object(u.jsxs)("tbody",{children:[p?Object(u.jsx)(k,{}):c.length>0?c.filter((function(e){return H.name?e[H.name].toLowerCase().includes(H.value.toLowerCase()):e})).map((function(e,t){return S===e._id?Object(u.jsx)(v,{}):Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:t+1}),Object(u.jsx)("td",{children:e.cName}),Object(u.jsx)("td",{children:e.pName}),Object(u.jsx)("td",{children:e.type}),Object(u.jsx)("td",{children:e.mpr}),Object(u.jsxs)("td",{children:[Object(u.jsx)(x,{rowToUpdate:D,rowToUpdateFunc:ee,updatedRow:ce}),Object(u.jsx)("button",{type:"button",className:"btn zoom","aria-label":"Edit",onClick:function(){return J(e),A(!0)},children:"\u270e"}),Object(u.jsx)("button",{type:"button",className:"d-none",ref:Z,id:e._id,"data-bs-toggle":"modal","data-bs-target":"#exampleModal"}),Object(u.jsx)("button",{type:"button",className:"btn-close fs-8 zoom","aria-label":"Close",id:e._id,onClick:se})]})]},e._id)})):Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:Object(u.jsx)("h4",{className:"fst-italic text-center",children:"(Empty List)"})})}),g&&Object(u.jsx)(F,{index:c.length+1})]}),Object(u.jsx)("thead",{children:Object(u.jsx)(f,{handleNewRowValues:function(e){Y(!1);var t=e.target,c=t.name,s=t.value;B(Object(j.a)(Object(j.a)({},L),{},Object(d.a)({},c,s)))},newRow:L,setEmptyMessage:Y,addRow:te,rows:c})})]}),X&&Object(u.jsx)("p",{className:"display-6 text-danger text-center my-0",children:"At least one field must be filled out."})]})]})};c(52);n.a.render(Object(u.jsx)(R,{}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.1a14621d.chunk.js.map