(this.webpackJsonpDBcontrol=this.webpackJsonpDBcontrol||[]).push([[0],{27:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(13),r=a.n(n),o=a(14),l=a(5),d=a(6),i=a(2),j=a.n(i),u=a(7),b=a(3),h=a(10),p=a(0),m=function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"#"}),Object(p.jsx)("th",{scope:"col",children:"Customer name"}),Object(p.jsx)("th",{scope:"col",children:"Partner name"}),Object(p.jsx)("th",{scope:"col",children:"Type of work"}),Object(p.jsx)("th",{scope:"col",children:"N\xb0 MPR file"}),Object(p.jsx)("th",{scope:"col"})]})},x=function(e){return Object(p.jsx)("div",{className:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(p.jsx)("div",{className:"modal-dialog  modal-xl modal-dialog-centered",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("h5",{className:"modal-title fs-4",id:"exampleModalLabel",children:"Edit Row"}),Object(p.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(p.jsx)("div",{className:"card p-3",children:Object(p.jsxs)("table",{className:"table",children:[Object(p.jsx)("thead",{children:Object(p.jsx)(m,{})}),Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:"1"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"cName",className:"w-100",value:e.rowToUpdate.cName,onChange:e.rowToUpdateFunc})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"pName",className:"w-100",value:e.rowToUpdate.pName,onChange:e.rowToUpdateFunc})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"type",className:"w-100",value:e.rowToUpdate.type,onChange:e.rowToUpdateFunc})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"mpr",className:"w-100",value:e.rowToUpdate.mpr,onChange:e.rowToUpdateFunc})}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-6 p-0 px-2","data-bs-dismiss":"modal",onClick:e.updatedRow,children:"Update"})})]})})]})})]})})})},O=function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:Object(p.jsx)("h4",{className:"fs-5 mb-1",children:"Filter"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"cName",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"pName",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"type",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"mpr",className:"w-50 shadow-sm outline-success",onChange:e.handleFilterRowValues})})]})},w=a.p+"static/media/logo.3b0495ec.png",f=function(e){return Object(p.jsx)("div",{className:"text-center my-5",children:Object(p.jsxs)("div",{className:"card shadow my-2",children:[Object(p.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(p.jsx)("h1",{className:"display-3 mt-3",children:"Data List"}),Object(p.jsx)("img",{src:w,alt:"Logo",className:"",Style:"width:100px; height:90px"})]}),Object(p.jsx)("p",{className:"display-6 fs-6",children:"By David Saal"})]})})},N=function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:Object(p.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-6 p-0 px-1",onClick:e.addRow,children:"Add"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"cName",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"pName",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"type",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",name:"mpr",className:"w-50 shadow-sm outline-success",onChange:e.handleNewRowValues})}),Object(p.jsx)("td",{children:Object(p.jsx)(h.CSVLink,{data:e.rows,children:Object(p.jsx)("button",{className:"btn btn-outline-dark shadow-sm fs-6 p-0 px-1 ms-4",children:"Csv"})})})]})};a(27);var v=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(!0),r=Object(b.a)(n,2),i=r[0],h=r[1],w=Object(s.useState)({cName:"",pName:"",type:"",mpr:""}),v=Object(b.a)(w,2),y=v[0],g=v[1],C=Object(s.useState)({}),k=Object(b.a)(C,2),R=k[0],T=k[1],S=Object(s.useState)(!1),U=Object(b.a)(S,2),E=U[0],F=U[1],V=Object(s.useState)({name:"",value:""}),L=Object(b.a)(V,2),M=L[0],_=L[1],D=Object(s.useRef)(null),J=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dbcontrol-server.herokuapp.com");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){J().then((function(e){h(!1),c(e)}))}),[]),Object(s.useEffect)((function(){var e=D.current;e&&e.click(),F(!1)}),[E]);var B=function(e){var t=e.target,a=t.name,s=t.value;T(Object(d.a)(Object(d.a)({},R),{},Object(l.a)({},a,s)))},P=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,fetch("https://dbcontrol-server.herokuapp.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newRow:y})});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,200===t.status?c([].concat(Object(o.a)(a),[s])):404===t.status&&alert("Error saving to database."),h(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,fetch("https://dbcontrol-server.herokuapp.com",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rowToUpdate:R})});case 3:200===(t=e.sent).status?(s=a.findIndex((function(e){return e._id===R._id})),a[s]=R):404===t.status&&alert("Error saving to database."),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,fetch("https://dbcontrol-server.herokuapp.com",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.target.id})});case 3:200===(s=e.sent).status?c(a.filter((function(e){return e._id!==t.target.id}))):405===s.status&&alert("Error deleting."),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"card p-3",children:Object(p.jsxs)("table",{className:"table",children:[Object(p.jsxs)("thead",{children:[Object(p.jsx)(O,{handleFilterRowValues:function(e){var t=e.target,a=t.name,s=t.value;_({name:a,value:s})}}),Object(p.jsx)(m,{})]}),Object(p.jsxs)("tbody",{children:[i?Object(p.jsx)("p",{className:"fs-4 text-center",children:"Loading.."}):a.length>0?a.filter((function(e){return M.name?e[M.name].toLowerCase().includes(M.value.toLowerCase()):e})).map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:t+1}),Object(p.jsx)("td",{children:e.cName}),Object(p.jsx)("td",{children:e.pName}),Object(p.jsx)("td",{children:e.type}),Object(p.jsx)("td",{children:e.mpr}),Object(p.jsxs)("td",{children:[Object(p.jsx)(x,{rowToUpdate:R,rowToUpdateFunc:B,updatedRow:z}),Object(p.jsx)("button",{type:"button",className:"btn zoom","aria-label":"Edit",onClick:function(){return T(e),F(!0)},children:"\u270e"}),Object(p.jsx)("button",{type:"button",className:"d-none",ref:D,id:e._id,"data-bs-toggle":"modal","data-bs-target":"#exampleModal"}),Object(p.jsx)("button",{type:"button",className:"btn-close fs-8 zoom","aria-label":"Close",id:e._id,onClick:I})]})]},e._id)})):Object(p.jsx)("div",{className:"justify-content-center d-flex text-center",children:Object(p.jsx)("h4",{className:"fst-italic text-center",children:"(Empty List)"})}),Object(p.jsx)(N,{handleNewRowValues:function(e){var t=e.target,a=t.name,s=t.value;g(Object(d.a)(Object(d.a)({},y),{},Object(l.a)({},a,s)))},addRow:P,rows:a})]})]})})]})};a(28);r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.aa3271f6.chunk.js.map